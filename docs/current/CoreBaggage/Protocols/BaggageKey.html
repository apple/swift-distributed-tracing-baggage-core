<!DOCTYPE html>
<html lang="en">
  <head>
    <title>BaggageKey Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Protocol/BaggageKey" class="dashAnchor"></a>

    <a title="BaggageKey Protocol Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          CoreBaggage 0.1.1 Docs
        </a>
         (92% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/apple/swift-distributed-tracing-baggage-core">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fapple.github.io%2Fswift-distributed-tracing-baggage-core%2Fdocs%2F0.1.1%2FCoreBaggage%2Fdocsets%2FCoreBaggage.xml">
            <img class="header-icon" src="../img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">CoreBaggage Reference</a>
      <img class="carat" src="../img/carat.png" />
      BaggageKey Protocol Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/BaggageKey.html">BaggageKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AnyBaggageKey.html">AnyBaggageKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Baggage.html">Baggage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TODOLocation.html">TODOLocation</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>BaggageKey</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">BaggageKey</span></code></pre>

                </div>
              </div>
            <p><code>BaggageKey</code>s are used as keys in a <code><a href="../Structs/Baggage.html">Baggage</a></code>. Their associated type <code>Value</code> guarantees type-safety.
To give your <code>BaggageKey</code> an explicit name you may override the <code>name</code> property.</p>

<p>In general, <code>BaggageKey</code>s should be <code>internal</code> or <code>private</code> to the part of a system using it.</p>

<p>All access to baggage items should be performed through an accessor computed property defined as shown below:</p>
<pre class="highlight swift"><code><span class="c1">/// The Key type should be internal (or private).</span>
<span class="kd">enum</span> <span class="kt">TestIDKey</span><span class="p">:</span> <span class="kt">Baggage</span><span class="o">.</span><span class="kt">Key</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">Value</span> <span class="o">=</span> <span class="kt">String</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">nameOverride</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span> <span class="s">"test-id"</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">Baggage</span> <span class="p">{</span>
    <span class="c1">/// This is some useful property documentation.</span>
    <span class="kd">public</span> <span class="kd">internal(set)</span> <span class="k">var</span> <span class="nv">testID</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span>
            <span class="k">self</span><span class="p">[</span><span class="kt">TestIDKey</span><span class="o">.</span><span class="k">self</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="k">set</span> <span class="p">{</span>
            <span class="k">self</span><span class="p">[</span><span class="kt">TestIDKey</span><span class="o">.</span><span class="k">self</span><span class="p">]</span> <span class="o">=</span> <span class="n">newValue</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>This pattern allows library authors fine-grained control over which values may be set, and whic only get by end-users.</p>

              <div class="slightly-smaller">
                <a href="https://github.com/apple/swift-distributed-tracing-baggage-core/tree/0.1.1/Sources/CoreBaggage/BaggageKey.swift#L40-L56">Show on GitHub</a>
              </div>
          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11CoreBaggage0B3KeyP5ValueQa"></a>
                    <a name="//apple_ref/swift/Alias/Value" class="dashAnchor"></a>
                    <a class="token" href="#/s:11CoreBaggage0B3KeyP5ValueQa">Value</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The type of <code>Value</code> uniquely identified by this key.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">associatedtype</span> <span class="kt">Value</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing-baggage-core/tree/0.1.1/Sources/CoreBaggage/BaggageKey.swift#L42">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11CoreBaggage0B3KeyP12nameOverrideSSSgvpZ"></a>
                    <a name="//apple_ref/swift/Variable/nameOverride" class="dashAnchor"></a>
                    <a class="token" href="#/s:11CoreBaggage0B3KeyP12nameOverrideSSSgvpZ">nameOverride</a>
                    </code>
                      <span class="declaration-note">
                        Default implementation
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The human-readable name of this key.
This name will be used instead of the type name when a value is printed.</p>

<p>It MAY also be picked up by an instrument (from Swift Tracing) which serializes baggage items and e.g. used as
header name for carried metadata. Though generally speaking header names are NOT required to use the nameOverride,
and MAY use their well known names for header names etc, as it depends on the specific transport and instrument used.</p>

<p>For example, a baggage key representing the W3C &ldquo;trace-state&rdquo; header may want to return &ldquo;trace-state&rdquo; here,
in order to achieve a consistent look and feel of this baggage item throughout logging and tracing systems.</p>

<p>Defaults to <code>nil</code>.</p>

                      </div>
                      <h4>Default Implementation</h4>
                      <div class="default_impl abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">static</span> <span class="k">var</span> <span class="nv">nameOverride</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/apple/swift-distributed-tracing-baggage-core/tree/0.1.1/Sources/CoreBaggage/BaggageKey.swift#L55">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="https://github.com/apple/swift-distributed-tracing-baggage-core" target="_blank" rel="external">Swift Distributed Tracing team</a>. All rights reserved. (Last updated: 2020-12-04)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
